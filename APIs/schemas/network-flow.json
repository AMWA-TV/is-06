{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Describes a simple network flow core schema.",
  "title": "Network flow with minimal attributes",
  "required": [
    "id",
    "bandwidth",
    "multicast_address",
    "sender_id",
    "receivers"
  ],
  "properties": {
    "id": {
      "description": "Globally unique identifier for the network flow",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "bandwidth": {
      "type": "number",
      "description": "Average bandwidth requirement in bps."
    },
    "multicast_address": {
      "description": "Multicast group address is an ip address, the ipv4 range is 224.1.1.1 to 239.255.255.255.",
      "type": "string"
    },
    "sender_id": {
        "description": "Sender Endpoint ID",
        "type": "string",
        "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "receivers": {
        "type": "array",
        "description": "List of receiver IDs.",
        "items": {
            "type": "string",
            "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
        },
        "minItems": 1,
        "uniqueItems": true
    },
    "route_flow": {
      "description": "Flag for routing the flow",
      "type": "boolean",
      "default": true
    },
    "flow_label": {
      "description": "Freeform string label for the network-flow",
      "type": "string"
    },
    "dscp": {
      "type": "string",
      "description": "DSCP based QoS metrics number, default is CS0, best effort.",
      "enum": [
        "CS0",
        "CS1",
        "CS2",
        "CS3",
        "CS4",
        "CS5",
        "CS6",
        "CS7",
        "AF11",
        "AF12",
        "AF13",
        "AF21",
        "AF22",
        "AF23",
        "AF31",
        "AF32",
        "AF33",
        "AF41",
        "AF42",
        "AF43",
        "EF"
      ],
      "default": "CS0"
    }
  }
}
