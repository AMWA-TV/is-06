{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "description": "Describes a simple network flow core schema.",
  "title": "Network flow with minimal attributes",
  "required": [
    "id",
    "bandwidth",
    "multicast_address",
    "sender_endpoint_id",
    "receiver_endpoint_ids"
  ],
  "properties": {
    "id": {
      "description": "Globally unique identifier for the network flow",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "bandwidth": {
      "type": "string",
      "description": "Average bandwidth requirement for the flow. Format as numbers followed by kbit/s, Mbit/s, Gbit/s."
    },
    "profile": {
      "description": "The transmission profile of the flow.",
      "type": "string",
      "enum": [
        "constant-rate",
        "SMPTE-2110-21-narrow",
        "SMPTE-2110-21-wide",
        "unknown"
      ],
      "default": "constant-rate"
    },
    "multicast_address": {
      "description": "Multicast group address is an ip address, the ipv4 range is 224.1.1.1 to 239.255.255.255. For future use of this schema for unicast flow, a null value option is added.",
      "anyOf": [
        {
          "description": "When the multicast address exists, use ipv4 format.",
          "type": "string",
          "format": "ipv4"
        },
        {
          "type": "null",
          "description": "For future use only. When the flow is a unicast flow, multicast group address will be null."
        }
      ]
    },
    "sender_endpoint_id": {
      "description": "Sender Endpoint ID",
      "type": "string",
      "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
    },
    "receiver_endpoint_ids": {
      "type": "array",
      "description": "List of receiver endpoint IDs.",
      "items": {
        "type": "string",
        "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"
      },
      "minItems": 1,
      "uniqueItems": true
    },
    "forward_flow": {
      "description": "Flag for forwarding the flow. If false, the network should not set up the flow. Only when this flag is changed to true should the flow be sent to all receivers.",
      "type": "boolean",
      "default": true
    },
    "flow_label": {
      "description": "Freeform string label for the network-flow",
      "type": "string"
    },
    "dscp": {
      "type": "string",
      "description": "DSCP based QoS metrics number, default is CS0, best effort.",
      "enum": [
        "CS0",
        "CS1",
        "CS2",
        "CS3",
        "CS4",
        "CS5",
        "CS6",
        "CS7",
        "AF11",
        "AF12",
        "AF13",
        "AF21",
        "AF22",
        "AF23",
        "AF31",
        "AF32",
        "AF33",
        "AF41",
        "AF42",
        "AF43",
        "EF"
      ],
      "default": "CS0"
    }
  }
}
